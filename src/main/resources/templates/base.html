
    <link href="../static/css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
    <link href="../static/css/animate.css" rel="stylesheet" type="text/css" media="all" />
    <!-- Custom Theme files -->
    <!--theme-style-->
    <link href="../static/css/style.css" rel="stylesheet" type="text/css" media="all" />
    <!--//theme-style-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="Shopin Responsive web template, Bootstrap Web Templates, Flat Web Templates, AndroId Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
    <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
    <!--theme-style-->
    <link href="../static/css/style4.css" rel="stylesheet" type="text/css" media="all" />
    <link href="../static/css/fileinput.min.css" rel="stylesheet" type="text/css" media="all" />
    <!--//theme-style-->
    <script src="../static/js/jquery.min.js"></script>
    <script src="../static/js/bootstrap-notify.min.js"></script>
    <script src="../static/js/fileinput/fileinput.min.js"></script>
    <script src="../static/js/fileinput/zh.js"></script>
    <script src="../static/js/fileinput/piexif.min.js"></script>
    <!--- start-rate---->
    <script src="../static/js/jstarbox.js"></script>
    <link rel="stylesheet" href="../static/css/jstarbox.css" type="text/css" media="screen" charset="utf-8" />
    <script type="text/javascript">
        jQuery(function() {
            jQuery('.starbox').each(function() {
                var starbox = jQuery(this);
                starbox.starbox({
                    average: starbox.attr('data-start-value'),
                    changeable: starbox.hasClass('unchangeable') ? false : starbox.hasClass('clickonce') ? 'once' : true,
                    ghosting: starbox.hasClass('ghosting'),
                    autoUpdateAverage: starbox.hasClass('autoupdate'),
                    buttons: starbox.hasClass('smooth') ? false : starbox.attr('data-button-count') || 5,
                    stars: starbox.attr('data-star-count') || 5
                }).bind('starbox-value-changed', function(event, value) {
                    if(starbox.hasClass('random')) {
                        var val = Math.random();
                        starbox.next().text(' '+val);
                        return val;
                    }
                })
            });
        });



        function getUserName() {
            fetch('/api/account/private/getUsername', {
                method: 'GET'
            }).then(res=>{
                return res.json();
            }).then(json=>{
                if(json.code == 200) {
                    console.log(json);
                    var h6 = document.getElementById("menu_username");
                    h6.innerHTML = json.data.username;
                }
            })
        }

        function searchBook() {
            let key = $("#searchKey").val()
            if(key == '') {
                return;
            } else {
                window.location = '/search?key='+key;
            }
        }
    </script>
    <style>
        ul.pagination {
            display: inline-block;
            padding: 0;
            margin-top: 50px;
            margin-bottom: 100px;
        }

        ul.pagination li {display: inline;}

        ul.pagination li a {
            color: black;
            float: left;
            padding: 8px 16px;
            text-decoration: none;
            transition: background-color .3s;
            border: 1px solid #ddd;
        }

        .pagination li:first-child a {
            border-top-left-radius: 5px;
            border-bottom-left-radius: 5px;
        }

        .pagination li:last-child a {
            border-top-right-radius: 5px;
            border-bottom-right-radius: 5px;
        }

        ul.pagination li a.active {
            background-color: rgba(175, 60, 45, 0.76);
            color: white;
            border: 1px solid rgba(175, 60, 45, 0.76);
        }

        div.center {
            text-align: center;
        }
    </style>
    <!---//End-rate---->
</head>
<body>
<!--header-->
<div class="header">
    <div class="container">
        <div class="head">
            <div class=" logo">
                <a href="index"><img src="../static/images/logo.png" alt=""></a>
            </div>
        </div>
    </div>
    <div class="header-top">
        <div class="container">


            <div class="col-sm-5 header-social">
                <ul >
                    <li><a href="#"><i></i></a></li>
                </ul>

            </div>
            <div class="clearfix"> </div>
        </div>
    </div>

    <div class="container">

        <div class="head-top">

            <div class="col-sm-8 col-md-offset-2 h_menu4">
                <nav class="navbar nav_bottom" role="navigation">

                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header nav_2">
                        <button type="button" class="navbar-toggle collapsed navbar-toggle1" data-toggle="collapse" data-target="#bs-megadropdown-tabs">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>

                    </div>
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="bs-megadropdown-tabs">
                        <ul class="nav navbar-nav nav_1">
                            <li><a class="color" href="index">主页</a></li>

                            <li class="dropdown mega-dropdown active">
                                <a class="color1" href="#" class="dropdown-toggle" data-toggle="dropdown">分类<span class="caret"></span></a>
                                <div class="dropdown-menu ">
                                    <div class="menu-top" id="menu-target1">

                                    </div>
                                </div>
                            </li>
                            <script>
                                fetch('/api/item/catalog/all', {
                                    method: 'GET',
                                }).then(res=>{
                                    return res.json()
                                }).then(res=>{
                                    console.log(res);
                                    if(res.code == 200) {
                                        var target1 = document.getElementById("menu-target1");
                                        // var target2 = document.getElementById("menu-target2");
                                        var list = res.data.catalogs;

                                        for(var i in list) {
                                            var col1 = document.createElement('div');
                                            col1.className = 'col1';
                                            var h_nav = document.createElement('div');
                                            h_nav.className = 'h_nav';
                                            var h4 = document.createElement('h4');
                                            let url = '/product?catalog_id='+ list[i].id;
                                            h4.innerHTML = list[i].name;
                                            h4.addEventListener("click", function(){
                                                window.location=url;
                                            });

                                            var ul = document.createElement('ul');
                                            var list2 = list[i].children;

                                            for(var j in list2) {
                                                var li = document.createElement('li');
                                                var a = document.createElement('a');
                                                a.innerHTML = list2[j].name;
                                                a.href = '/product?catalog_id=' + list2[j].id;
                                                li.appendChild(a);
                                                ul.appendChild(li);
                                            }

                                            h_nav.appendChild(h4);
                                            h_nav.appendChild(ul);
                                            col1.appendChild(h_nav);
                                            target1.appendChild(col1);
                                        }

                                        var clearfix = document.createElement('div');
                                        clearfix.className = 'clearfix';
                                        target1.appendChild(clearfix);
                                    }
                                });
                            </script>
                            <li><a class="color2" href="product">书城</a></li>
                            <li><a class="color3" href="shelveBook">店铺</a></li>
                            <li ><a class="color5" href="store">卖家中心</a></li>
                            <li><a class="color4" href="wishlist">求购</a></li>
                            <li class="dropdown mega-dropdown active">
                                <a class="color1" class="dropdown-toggle" data-toggle="dropdown">账户<span class="caret"></span></a>
                                <div class="dropdown-menu ">
                                    <div class="menu-top2">
                                        <div class="col1" style="width: 100%;min-width: 200px">
                                            <div class="h_nav">
                                                <h4 id="menu_username"></h4>
                                                    <ul>
                                                        <li style="list-style: none;"><a href="/profile">资料修改</a></li>
                                                        <li style="list-style: none;"><a href="/changePassword">修改密码</a></li>
                                                        <li style="list-style: none;"><a href="/logout">退出登录</a></li>
                                                    </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div><!-- /.navbar-collapse -->

                </nav>
            </div>
            <div class="col-sm-2 search-right">
                <ul class="heart">
                    <li>
                        <a href="#" >
                            <span class="glyphicon glyphicon-comment" aria-hidden="true"></span>
                            <label id="messageNumber"></label>
                        </a>
                    </li>
                    <li>
                        <a class="play-icon popup-with-zoom-anim" href="#small-dialog">
                            <i class="glyphicon glyphicon-search"> </i>
                        </a>
                    </li>

                    <script>
                        fetch('/api/record/allUnreadNumber', {
                            method: 'GET'
                        }).then(res=>{
                            return res.json();
                        }).then(json=>{
                            if(json.code == 200) {
                                var label = document.getElementById("messageNumber");
                                label.innerHTML = json.data.number == 0 ? '' : json.data.number;
                            }
                        })
                    </script>
                    <li>
                        <a href="checkout">
                            <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span>
                        </a>
                    </li>
                </ul>
                <div class="clearfix"> </div>

                <!----->

                <!---pop-up-box---->
                <link href="../static/css/popuo-box.css" rel="stylesheet" type="text/css" media="all"/>
                <script src="../static/js/jquery.magnific-popup.js" type="text/javascript"></script>
                <!---//pop-up-box---->
                <div id="small-dialog" class="mfp-hide">
                    <div class="search-top">
                        <div class="login-search">
                            <input type="submit" value="" onclick="searchBook()">
                            <input id="searchKey" type="text" onkeyup=" if(event.keyCode==13) { searchBook() }" value="Search.." onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Search..';}">
                        </div>
                        <p>BookPan</p>
                    </div>
                </div>
                <script>
                    $(document).ready(function() {
                        $('.popup-with-zoom-anim').magnificPopup({
                            type: 'inline',
                            fixedContentPos: false,
                            fixedBgPos: true,
                            overflowY: 'auto',
                            closeBtnInside: true,
                            preloader: false,
                            midClick: true,
                            removalDelay: 300,
                            mainClass: 'my-mfp-zoom-in'
                        });

                    });

                </script>
                <!----->
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>